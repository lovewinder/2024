<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
  // 第一题
  // console.log('1')
  // setTimeout(function() {
  //   console.log('2')
  //   process.nextTick(function() {
  //     console.log('3')
  //   })
  //   new Promise(function(resolve) {
  //     console.log('4')
  //     resolve()
  //   }).then(function() {
  //     console.log('5')
  //   })
  // })
  // process.nextTick(function() {
  //   console.log('6')
  // })
  // new Promise(function(resolve) {
  //   console.log('7')
  //   resolve()
  // }).then(function() {
  //   console.log('8')
  // })

  // setTimeout(function() {
  //   console.log('9')
  //   process.nextTick(function() {
  //     console.log('10')
  //   })
  //   new Promise(function(resolve) {
  //     console.log('11')
  //     resolve()
  //   }).then(function() {
  //     console.log('12')
  //   })
  // })

  // 第二题
  // async function async1() {
  //   console.log('async1 start')
  //   await async2()
  //   console.log('async1 end')
  // }

  // async function async2() {
  //   console.log('async2')
  // }

  // console.log('script start')
  // setTimeout(function() {
  //   console.log('settimeout')
  // })
  // async1()
  // new Promise(function(resolve) {
  //   console.log('promise1')
  //   resolve()
  // }).then(function() {
  //   console.log('promise2')
  // })
  // console.log('script end')
  
  // 第三题
  const promise = new Promise((resolve, reject) => {
    resolve('10')
  }).then(res => {
    console.log('res1: ', res)
    return 9
  }).then(res => {
    console.log('res2: ', res)
    return 8
  }).then(res => {
    console.log('res3: ', res)
    let promise2 = new Promise((resolve, reject) => {
      resolve('p2')
    }).then(res => {
      console.log(res)
      setTimeout(function() {
        console.log('setTimeout2')
      })
    })
  })
  console.log('aaa')
  setTimeout(function() {
    console.log('setTimeout1')
  }, 0)

  const promise1 = new Promise((resolve, reject) => {
    console.log('p1')
    resolve(989)
  }).then(res => {
    console.log(res)
    return 990
  }).then(res => {
    console.log(res)
    return 991
  }).then(res => {
    console.log(res)
    return 0
  })

</script>
</html>